<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">THAPSANG.NET</title>
<generator uri="https://github.com/mojombo/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="/feed.xml" />
<link rel="alternate" type="text/html" href="" />
<updated>2014-10-27T23:44:04+07:00</updated>
<id>/</id>
<author>
  <name>Ta Ly</name>
  <uri>/</uri>
  <email>taly2808@gmail.com</email>
</author>


<entry>
  <title type="html"><![CDATA[Tìm hiểu module ngRoute trong AngularJS]]></title>
  <link>/angularjs/tim-hieu-module-ngRoute-trong-angularjs</link>
  <id>/angularjs/tim-hieu-module-ngRoute-trong-angularjs</id>
  <published>2014-10-23T00:00:00+07:00</published>
  <updated>2014-10-23T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;&lt;a href=&quot;https://docs.angularjs.org/api/ngRoute&quot;&gt;ngRoute&lt;/a&gt; là một module trong AngularJS cung cấp dịch vụ định tuyến (routing), &lt;a href=&quot;http://en.wikipedia.org/wiki/Deep_linking&quot;&gt;deep linking&lt;/a&gt; và các chỉ thị lệnh (directives) cho các ứng dụng angular. Trong &lt;a href=&quot;/angularjs/routing-single-page-application-voi-module-ngRoute-cua-angularjs&quot;&gt;bài trước&lt;/a&gt;, chúng ta đã có một ví dụ đơn giản về routing trong SPA với AngularJS. Trong nội dung bài này, chúng ta sẽ đi vào tìm hiểu chi tiết về các thành phần &lt;strong&gt;provider&lt;/strong&gt;, &lt;strong&gt;services&lt;/strong&gt; và &lt;strong&gt;ngView directive&lt;/strong&gt; trong module ngRoute.&lt;/p&gt;

&lt;section&gt;
  &lt;header&gt;
    &lt;h2&gt;Nội dung&lt;/h2&gt;
  &lt;/header&gt;
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#cch-thc-s-dng&quot;&gt;Cách thức sử dụng&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ngview-directive&quot;&gt;ngView directive&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#routeprovider-provider&quot;&gt;$routeProvider provider&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#whenpath-route-method&quot;&gt;when(path, route) method&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#otherwiseparams-method&quot;&gt;otherwise(params) method&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#services-in-ngroute&quot;&gt;Services in ngRoute&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#route-service&quot;&gt;$route service&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#methods&quot;&gt;Methods&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#events&quot;&gt;Events&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#properties&quot;&gt;Properties&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#routeparams-service&quot;&gt;$routeParams service&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ti-liu-tham-kho&quot;&gt;Tài liệu tham khảo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;

&lt;h2 id=&quot;cch-thc-s-dng&quot;&gt;Cách thức sử dụng&lt;/h2&gt;

&lt;p&gt;Từ phiên bản 1.2, module &lt;code&gt;ngRoute&lt;/code&gt; được tách ra khỏi Angular core và trở thành một module riêng. Do đó, để sử dụng module này, chúng ta cần include nó trong file html.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;angular.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;angular-route.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau đó, chúng ta cần khai báo &lt;code&gt;ngRoute&lt;/code&gt; là module phụ thuộc của ứng dụng của chúng ta:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;angular&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;myApp&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;ngRoute&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;ngview-directive&quot;&gt;ngView directive&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.angularjs.org/api/ngRoute/directive/ngView&quot;&gt;ngView&lt;/a&gt; là một chỉ thị lệnh (directive) bổ sung cho $route service bằng cách bao gồm các template đã được biểu diễn (rendered) của route hiện tại (current route) vào trong file layout chính (thường là index.html). Mỗi lần thay đổi current route, view đi kèm với nó cũng thay đổi theo phù hợp với cấu hình của $route service.&lt;/p&gt;

&lt;p&gt;Trong ứng dụng angular, chúng ta cần định nghĩa &lt;code&gt;ngView&lt;/code&gt; directive &lt;strong&gt;một lần&lt;/strong&gt;. Đây là phần giữ chỗ cho các views. Có ba cách để định nghĩa ngView trong file html chính như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ng-view&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt; 		// as attribute
...
&lt;span class=&quot;nt&quot;&gt;&amp;lt;ng-view&amp;gt;&amp;lt;/ng-view&amp;gt;&lt;/span&gt; 		// as element
...
&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ng-view&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt; 	// as CSS class&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Lưu ý&lt;/strong&gt;: Trong toàn bộ một ứng dụng SPA, &lt;code&gt;ngView&lt;/code&gt; directive &lt;strong&gt;chỉ được sử dụng duy nhất một lần&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;routeprovider-provider&quot;&gt;$routeProvider provider&lt;/h2&gt;

&lt;p&gt;Trong ứng dụng angularjs, các provider được bơm vào (inject) trong hàm &lt;strong&gt;config()&lt;/strong&gt;. Khi $routeProvider được khai báo, chúng ta có thể sử dụng các service mà nó cung cấp là &lt;code&gt;$route&lt;/code&gt; service và &lt;code&gt;$routeParams&lt;/code&gt; service để định tuyến.&lt;/p&gt;

&lt;p&gt;$routeProvider sử dụng phương thức &lt;code&gt;$routeProvider.when()&lt;/code&gt; để khớp một mẫu hình (pattern) URL với một view và phương thức &lt;code&gt;$routeProvider.otherwise()&lt;/code&gt; để trả lại một view khi current url không khớp với bất kỳ mẫu hình URL nào được đưa ra.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;angular&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;myApp&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;ngRoute&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$routeProvider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$routeProvider&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;templateUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;pages/home.html&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;MainController&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/about&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;This is about page!!!&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;otherwise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;redirectTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;whenpath-route-method&quot;&gt;when(path, route) method&lt;/h3&gt;

&lt;p&gt;Hàm when() bao gồm hai tham số: một route path và một đối tượng Javascript.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;path&lt;/strong&gt; có kiểu string, nó khớp với phần địa chỉ trên url phía sau ký hiệu &lt;code&gt;#&lt;/code&gt; khi ứng dụng được tải lên. Chúng ta có thể truyền tham số vào path, và các tham số được lưu trữ trong $routeParams object.&lt;/p&gt;
&lt;figure&gt;
	&lt;img src=&quot;https://docs.google.com/drawings/d/1aS78XypeTPb0CFq2Md9hRT2VkayaS49czuy6T7ypZUg/pub?w=469&amp;amp;h=227&quot; /&gt;
&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;route&lt;/strong&gt; là một đối tượng Javascript, nó bao gồm các thuộc tính sau:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;templateUrl&lt;/strong&gt;: là một đường dẫn (path) hoặc một function trả về một đường dẫn đến một template html. Và đường dẫn này là đường dẫn tương đối so với file layout chính (index.html). Ví dụ:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;angular&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;myApp&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;ngRoute&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$routeProvider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$routeProvider&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;templateUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;pages/home.html&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;MainController&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/books/:bookId&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;templateUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;pages/books/&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bookId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.html&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;template&lt;/strong&gt;: là một template html hoặc là một function trả về một template html. Nếu thuộc tính này được khai báo cùng với thuộc tính &lt;strong&gt;templateUrl&lt;/strong&gt; thì nó sẽ được ưu tiên hơn.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;templateUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;pages/home.html&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;h2&amp;gt;Hello, I am html template.&amp;lt;/h2&amp;gt;&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;controller&lt;/strong&gt;: khai báo bộ điều khiển (controller) sẽ điều khiển view tương ứng với template được khai báo trong thuộc tính &lt;code&gt;template&lt;/code&gt; hoặc &lt;code&gt;templateUrl&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;controllerAs&lt;/strong&gt;: bí danh (alias name) của controller. Khi sử dụng thuộc tính này, chúng ta xem controller như là một class.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;angular&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;myApp&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;ngRoute&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$routeProvider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$routeProvider&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/about&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;templateUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;about.html&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;AboutCtrl&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;controllerAs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;about&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;AboutCtrl&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// don&amp;#39;t use $scope&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flash&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Content will be display here. :)&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// use this instead of $scope&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Trong file template &lt;code&gt;about.html&lt;/code&gt;, chúng ta truy cập vào dữ liệu trong controller như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;About page&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;{{ about.flash }}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;redirectTo&lt;/strong&gt;: chuyển đến một địa chỉ cụ thể. Giá trị của thuộc tính này có thể là một chuỗi (string) hoặc một function. Khi nó là function, chúng ta có thể truyền các tham số cho nó gồm &lt;code&gt;routeParams&lt;/code&gt; - đối tượng được lấy từ phương thức &lt;em&gt;$location.path()&lt;/em&gt;, &lt;code&gt;path&lt;/code&gt; - chuỗi được lấy từ phương thức &lt;em&gt;$location.path()&lt;/em&gt;, &lt;code&gt;search&lt;/code&gt; - đối tượng được lấy từ phương thức &lt;em&gt;$location.search()&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$routeProvider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;$routeProvider&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/author/:authorName/books/:bookId&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;redirectTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;routeParams&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &amp;lt;------- is function&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;routeParams&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;/author/&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;routeParams&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;authorName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/author/victorhugo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;This is Victor Hugo&amp;#39;s page.&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;otherwise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;redirectTo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;/&amp;#39;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &amp;lt;-------------is string&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;resolve&lt;/strong&gt;: thuộc tính này rất hữu ích khi chúng ta cần phải tải một số dữ liệu trả trước (data upfront) trước khi khởi tạo controller và render view. Chúng ta sẽ tìm hiểu chi tiết về thuộc tính này trong một bài riêng tôi sẽ viết tới đây.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;reloadOnSearch&lt;/strong&gt;: thuộc tính này được thiết lập mặc định giá trị &lt;em&gt;true&lt;/em&gt;. Thuộc tính này cho phép tải lại route khi $location.search() hoặc $location.hash() thay đổi.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;caseInsensitiveMatch&lt;/strong&gt;: giá trị mặc định của thuộc tính này là &lt;em&gt;false&lt;/em&gt;, nó cho phép ứng dụng thỏa mãn các route mà không cần phân biệt chữ hoa, chữ thường.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;otherwiseparams-method&quot;&gt;otherwise(params) method&lt;/h3&gt;

&lt;p&gt;Phương thức này được dùng để điều hướng route đến một địa chỉ cụ thể khi url đưa ra không phù hợp với bất kỳ khai báo nào.&lt;/p&gt;

&lt;h2 id=&quot;services-in-ngroute&quot;&gt;Services in ngRoute&lt;/h2&gt;

&lt;h3 id=&quot;route-service&quot;&gt;$route service&lt;/h3&gt;

&lt;h4 id=&quot;methods&quot;&gt;Methods&lt;/h4&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;reload()&lt;/strong&gt;: phương thức này cho phép ứng dụng tải lại current route ngay cả khi $location không thay đổi.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;updateParams(newParams)&lt;/strong&gt;: cho phép thay thế các tham số của URL hiện tại bằng các tham số trong &lt;em&gt;newParams&lt;/em&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;events&quot;&gt;Events&lt;/h4&gt;

&lt;p&gt;Trước khi một route thay đổi, $route sẽ phát sinh một sự kiện &lt;strong&gt;$routeChangeStart&lt;/strong&gt;. Lúc này, $route service bắt đầu giải quyết tất cả các phụ thuộc cần thiết để tiến hành thay đổi route. Khi các phụ thuộc được giải quyết (resolve), $route service sẽ phát sinh sự kiện &lt;strong&gt;$routeChangeSuccess&lt;/strong&gt; và khi đó controller được khởi tạo và render view tương ứng. Nếu các phụ thuộc không được giải quyết (reject) thì $route service sẽ phát sinh sự kiện &lt;strong&gt;$routeChangeError&lt;/strong&gt; và khi đó controller không được khởi tạo và cũng không có view nào được render. Các sự kiện trong $route khi được kích hoạt luôn tác động lên root scope.&lt;/p&gt;

&lt;p&gt;$route service còn cung cấp sự kiện &lt;strong&gt;$routeUpdate&lt;/strong&gt; khi thuộc tính &lt;strong&gt;reloadOnSearch&lt;/strong&gt; được thiết lập giá trị &lt;em&gt;false&lt;/em&gt;.&lt;/p&gt;

&lt;h4 id=&quot;properties&quot;&gt;Properties&lt;/h4&gt;

&lt;p&gt;$route cung cấp thuộc tính &lt;strong&gt;current&lt;/strong&gt; để tham chiếu đến current route. Bạn có thể tham khảo &lt;a href=&quot;https://docs.angularjs.org/api/ngRoute/service/$route#example&quot;&gt;ví dụ về $route&lt;/a&gt; để hiểu rõ hơn.&lt;/p&gt;

&lt;h3 id=&quot;routeparams-service&quot;&gt;$routeParams service&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;$routeParams&lt;/strong&gt; service cho phép bạn lấy được giá trị đang được thiết lập của tham số truyền vào trên route. Các tham số của route là sự kết hợp của &lt;a href=&quot;https://docs.angularjs.org/api/ng/service/$location#path&quot;&gt;$location.path()&lt;/a&gt; và &lt;a href=&quot;https://docs.angularjs.org/api/ng/service/$location#search&quot;&gt;$location.search()&lt;/a&gt;.&lt;/p&gt;

&lt;figure&gt;
	&lt;img src=&quot;https://docs.google.com/drawings/d/1KQe7BdYTSW14zQllb-7yCtYgRry9GqZQJkAJGUfSK50/pub?w=861&amp;amp;h=225&quot; /&gt;
&lt;/figure&gt;

&lt;p&gt;Nếu tên của các tham số trong &lt;code&gt;path&lt;/code&gt; và &lt;code&gt;search&lt;/code&gt; xung đột nhau, thì các tham số của &lt;code&gt;path&lt;/code&gt; sẽ được ưu tiên.&lt;/p&gt;
&lt;figure&gt;
	&lt;img src=&quot;https://docs.google.com/drawings/d/1X8B1sAVfH6GrazPABuVpoGnlfkTboURz5gdwHBtFjOw/pub?w=885&amp;amp;h=319&quot; /&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;ti-liu-tham-kho&quot;&gt;Tài liệu tham khảo&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.angularjs.org/api/ngRoute/&quot;&gt;AngularJS’s document on ngRoute&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

  &lt;p&gt;&lt;a href=&quot;/angularjs/tim-hieu-module-ngRoute-trong-angularjs&quot;&gt;Tìm hiểu module ngRoute trong AngularJS&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on October 23, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Routing Single Page Application với module ngRoute của AngularJS]]></title>
  <link>/angularjs/routing-single-page-application-voi-module-ngRoute-cua-angularjs</link>
  <id>/angularjs/routing-single-page-application-voi-module-ngRoute-cua-angularjs</id>
  <published>2014-10-21T00:00:00+07:00</published>
  <updated>2014-10-21T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Các ứng dụng Single Page ngày càng trở nên phổ biến. Khi ứng dụng của chúng ta lớn dần, việc đặt tất cả các views vào trong một file sẽ khiến chúng ta rất khó quản lý. Việc chia nhỏ chúng vào trong Views và sử dụng Routing để tải các phần khác nhau của ứng dụng giúp chúng ta phân chia ứng dụng hợp lý và quản lý dễ dàng hơn.
Routing trong AngularJS có thể được sử dụng với module &lt;a href=&quot;https://docs.angularjs.org/api/ngRoute&quot;&gt;ngRoute&lt;/a&gt; hoặc sử dụng &lt;a href=&quot;https://github.com/angular-ui/ui-router&quot;&gt;UI Route&lt;/a&gt;. Trong bài viết này, tôi sẽ sử dụng routing của module &lt;strong&gt;ngRoute&lt;/strong&gt;. Chúng ta sẽ tìm hiểu cách thức chia nhỏ một SPA thành nhiều views như thế nào.&lt;/p&gt;

&lt;section&gt;
  &lt;header&gt;
    &lt;h2&gt;Nội dung&lt;/h2&gt;
  &lt;/header&gt;
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#gii-thiu-v-routeprovider&quot;&gt;Giới thiệu về $routeProvider&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ng-dng-n-gin&quot;&gt;Ứng dụng đơn giản&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#cu-trc-th-mc&quot;&gt;Cấu trúc thư mục&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#html&quot;&gt;HTML&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#cu-hnh-routes-v-views&quot;&gt;Cấu hình Routes và Views&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#thm-cc-file-templates-html&quot;&gt;Thêm các file templates HTML&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#cch-thc-truyn-tham-s-vo-trong-route-urls&quot;&gt;Cách thức truyền tham số vào trong Route Urls&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ti-liu-tham-kho&quot;&gt;Tài liệu tham khảo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;

&lt;h2 id=&quot;gii-thiu-v-routeprovider&quot;&gt;Giới thiệu về $routeProvider&lt;/h2&gt;

&lt;p&gt;Sự kỳ diệu của Routing được thực hiện bởi một service provider do Angular cung cấp có tên là &lt;code&gt;$routeProvider&lt;/code&gt;. Một &lt;code&gt;Angular&#39;s service&lt;/code&gt; là một đối tượng đơn nhất (singleton object) được tạo ra bởi một service factory. Các service factory này do một service provider tạo ra. Các service providers là các hàm cấu tử (constructror functions). Khi tạo đối tượng, chúng phải chứa một thuộc tính $get để nắm giữ các service factory function. Để hiểu rõ hơn về các khái niệm trên, bạn có thể tham khảo bài viết &lt;a href=&quot;http://acegik.net/blog/javascript/angularjs/tong-quan-ve-dependency-injection-trong-angularjs-p2.html&quot;&gt;Tổng quan về Dependency Injection trong AngularJS&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Định tuyến ứng dụng trong AngularJS được khai báo thông qua &lt;code&gt;$routeProvider&lt;/code&gt;. $routeProvider là nhà cung cấp các dịch vụ &lt;code&gt;$route&lt;/code&gt;. Dịch vụ này cho phép kết nối các controllers, view templates và các địa chỉ URL hiện tại trên trình duyệt lại với nhau một cách dễ dàng. Với tính năng này, chúng ta có thể thực hiện các liên kết sâu trên trình duyệt  - &lt;a href=&quot;http://en.wikipedia.org/wiki/Deep_linking&quot;&gt;deep linking&lt;/a&gt; - để sử dụng lịch sử của trình duyệt và đánh dấu (bookmark).&lt;/p&gt;

&lt;h3 id=&quot;ng-dng-n-gin&quot;&gt;Ứng dụng đơn giản&lt;/h3&gt;

&lt;p class=&quot;text-center&quot;&gt;&lt;a class=&quot;btn btn-info btn-large&quot; href=&quot;http://plnkr.co/edit/tVKCg2gr1VlA3ickPBTN?p=preview&quot; target=&quot;_blank&quot;&gt;&lt;span class=&quot;fa fa-code&quot;&gt;&lt;/span&gt; View Code&lt;/a&gt;
&lt;a class=&quot;btn btn-success btn-large&quot; href=&quot;http://embed.plnkr.co/tVKCg2gr1VlA3ickPBTN/&quot; target=&quot;_blank&quot;&gt;View Demo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Để dễ hình dung, chúng ta sẽ xây dựng một site đơn giản với ba trang: home, about, contact. Chúng ta sẽ xây dựng site này trên một trang, nội dung các trang sẽ thay đổi tương ứng mà không cần refresh trình duyệt. AngularJS cho phép xây dựng các ứng dụng nhiều chức năng hơn, nhưng trong ví dụ này, tôi sẽ trình bày những thứ chúng ta cần để có thể phát triển các ứng dụng lớn hơn.&lt;/p&gt;

&lt;p&gt;Routing giúp chúng ta chia nhỏ ứng dụng của mình thành các views một cách logic và móc nối các views khác nhau với các Controller tương ứng.&lt;/p&gt;

&lt;figure&gt;
	&lt;a href=&quot;https://docs.google.com/drawings/d/1WQWuJ2UnLI6hcZHM2CXQ0BRjNEqqqXNeGLgJz-vv5EM/pub?w=480&amp;amp;h=360&quot;&gt;&lt;img src=&quot;https://docs.google.com/drawings/d/1WQWuJ2UnLI6hcZHM2CXQ0BRjNEqqqXNeGLgJz-vv5EM/pub?w=960&amp;amp;h=720&quot; /&gt;&lt;/a&gt;
&lt;/figure&gt;

&lt;p&gt;Trong sơ đồ trên, chúng ta tạo ra ba Route url: /home, /about, và /contact. Mỗi route sẽ sử dụng một view cụ thể và được quản lý bởi một controller.&lt;/p&gt;

&lt;h3 id=&quot;cu-trc-th-mc&quot;&gt;Cấu trúc thư mục&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;index.html
script.js
pages/
---- home.html
---- about.html
---- contact.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;html&quot;&gt;HTML&lt;/h3&gt;

&lt;p&gt;Trong ví dụ này, tôi sử dụng CSS Framework &lt;a href=&quot;http://getbootstrap.com/&quot;&gt;Twitter Bootstrap&lt;/a&gt; và &lt;a href=&quot;http://fortawesome.github.io/Font-Awesome/&quot;&gt;FontAwesome&lt;/a&gt;. Từ phiên bản Angular1.2, &lt;code&gt;ngRoute&lt;/code&gt; được tách riêng thành một module, do đó chúng ta cần có lời gọi đến nó trong phần header. Và chúng ta phải có các chỉ thị lệnh (directive) của Angular (&lt;code&gt;ng-app&lt;/code&gt;). Nội dung file &lt;code&gt;index.html&lt;/code&gt; như sau:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/taly2808/0376169f72e2d37ae3de.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;Trong đường link dẫn đến các trang, chúng ta sử dụng dấu &lt;code&gt;#&lt;/code&gt; (hash address) để trình duyệt không chuyển đến trang home.html, about.html, contact.html. Và trong nội dung của thẻ div có &lt;code&gt;id=&quot;main&quot;&lt;/code&gt;, chúng ta cần thêm thẻ div với chỉ thị lệnh &lt;code&gt;ng-view&lt;/code&gt; để include template của các route (/home, /about, /contact) trong file layout chính (&lt;code&gt;index.html&lt;/code&gt;).&lt;/p&gt;

&lt;h3 id=&quot;cu-hnh-routes-v-views&quot;&gt;Cấu hình Routes và Views&lt;/h3&gt;
&lt;p&gt;Chúng ta định nghĩa một ứng dụng angular &lt;code&gt;spaApp&lt;/code&gt; sử dụng phương thức &lt;code&gt;angular.module&lt;/code&gt;. Tiếp đến, chúng ta sử dụng phương thức &lt;code&gt;config()&lt;/code&gt; để cấu hình &lt;code&gt;$routeProvider&lt;/code&gt;. $routeProvider cung cấp các phương thức &lt;code&gt;when()&lt;/code&gt;, &lt;code&gt;otherwise()&lt;/code&gt; để định nghĩa các routes trong ứng dụng của chúng ta. Nội dung của file &lt;code&gt;script.js&lt;/code&gt; như sau:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/taly2808/83d19aa063bf87d4bac2.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;Trong kịch bản trên, chúng ta định nghĩa ba urls &lt;code&gt;/home&lt;/code&gt;, &lt;code&gt;/about&lt;/code&gt; và &lt;code&gt;/contact&lt;/code&gt; và ánh xạ chúng tới các views tương ứng &lt;code&gt;pages/home.html&lt;/code&gt;, &lt;code&gt;pages/about.html&lt;/code&gt; và &lt;code&gt;pages/contact.html&lt;/code&gt;. Khi chúng ta nhập vào địa chỉ &lt;code&gt;http:myapp/#home&lt;/code&gt; trên trình duyệt, Angular sẽ tự động khớp nó với route mà chúng ta cấu hình và tải template &lt;code&gt;pages/home.html&lt;/code&gt;. Sau đó nó gọi đến HomeController xử lý các tác vụ liên quan đến Home View.&lt;/p&gt;

&lt;p&gt;Chúng ta sử dụng phương thức &lt;code&gt;otherwise()&lt;/code&gt; để định nghĩa route mặc định (default route). Trong trường hợp routeProvider gặp url không phù hợp với bất kỳ url nào đã được khai báo, nó sẽ chuyển đến default route.&lt;/p&gt;

&lt;h3 id=&quot;thm-cc-file-templates-html&quot;&gt;Thêm các file templates HTML&lt;/h3&gt;

&lt;p&gt;Chúng ta cần thêm các file templates, các templates này sẽ được bơm vào layout chính.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;pages/home.html&lt;/em&gt;
&lt;script src=&quot;https://gist.github.com/taly2808/0498e77df4156ebbabde.js&quot;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;pages/about.html&lt;/em&gt;
&lt;script src=&quot;https://gist.github.com/taly2808/7b34b8adfac19f4ac538.js&quot;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;pages/contact.html&lt;/em&gt;
&lt;script src=&quot;https://gist.github.com/taly2808/a6102a2f6f67654e769e.js&quot;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Chạy ứng dụng trên local&lt;/strong&gt;: Angular routing chỉ có thể làm việc trong môi trường có web server. Do đó, nếu bạn chạy ứng dụng trên local thì cần chắc chắn rằng bạn sử dụng &lt;code&gt;http://localhost&lt;/code&gt; hoặc thiết lập môi trường cho nó.&lt;/p&gt;

&lt;h2 id=&quot;cch-thc-truyn-tham-s-vo-trong-route-urls&quot;&gt;Cách thức truyền tham số vào trong Route Urls&lt;/h2&gt;

&lt;p&gt;Trong ví dụ trên, chúng ta đã tìm hiểu cách định nghĩa route. Bây giờ chúng ta sẽ tìm hiểu cách định nghĩa tham số trong route urls.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://docs.google.com/drawings/d/1Ie7HOi_fo-J2XycDIG3T2JAYmmXw2L7ivfRf_6Qx5ms/pub?w=923&amp;amp;h=194&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Chúng ta muốn hiển thị chi tiết thông tin của các contact khác nhau. Dựa trên tham số userId, chúng ta sẽ định nghĩa contact detail trên view. Trong Angular, khi định nghĩa route, chúng ta có thể định nghĩa tham số &lt;code&gt;userId&lt;/code&gt; trong url. Trong file &lt;code&gt;script.js&lt;/code&gt;, chúng ta bổ sung phần định tuyến cho contact detail như sau: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/contact/:userId&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;templateUrl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;pages/contact-detail.html&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ContactDetailController&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Và chúng ta đọc tham số này trong ContactDetailController bằng cách sử dụng &lt;code&gt;$routeParams.userId&lt;/code&gt;. Khi đó, phần định nghĩa ContactDetailController trong file &lt;code&gt;script.js&lt;/code&gt; như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;controller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;ContactDetailController&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;$scope&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$routeParams&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$routeParams&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;$scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;userId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$routeParams&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;userId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lưu ý: chúng ta cần truyền tham số &lt;code&gt;$routeParams&lt;/code&gt; vào trong controller, nếu không chúng ta sẽ không thể dùng được nó để lấy tham số truyền vào thông qua url.&lt;/p&gt;

&lt;p&gt;Trong file template &lt;code&gt;pages/contact.html&lt;/code&gt;, nội dung thay đổi như sau:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/taly2808/6cab4af46d134eed7120.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;Nội dung của &lt;code&gt;pages/contact-detail.html&lt;/code&gt; như sau:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/taly2808/22211dc7315bf948a74c.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;Trong bài viết này, tôi đã đưa ra một ví dụ đơn giản về routing để mọi người có thể định hình được chức năng cơ bản của module &lt;code&gt;ngRoute&lt;/code&gt; trong AngularJS. Trong bài &lt;a href=&quot;/angularjs/tim-hieu-module-ngRoute-trong-angularjs&quot;&gt;Tìm hiểu module ngRoute trong AngularJS&lt;/a&gt; chúng ta sẽ đi sâu vào tìm hiểu các thành phần trong module &lt;code&gt;ngRoute&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;ti-liu-tham-kho&quot;&gt;Tài liệu tham khảo&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.angularjs.org/api/ngRoute/provider/$routeProvider&quot;&gt;AngularJS’s document on $routeProvider&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.angularjs.org/tutorial/step_07&quot;&gt;AngularJS’s document on Routing &amp;amp; Multiple Views&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

  &lt;p&gt;&lt;a href=&quot;/angularjs/routing-single-page-application-voi-module-ngRoute-cua-angularjs&quot;&gt;Routing Single Page Application với module ngRoute của AngularJS&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on October 21, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Cấu trúc thư mục cho ứng dụng AngularJS]]></title>
  <link>/angularjs/cau-truc-thu-muc-voi-ung-dung-angularjs</link>
  <id>/angularjs/cau-truc-thu-muc-voi-ung-dung-angularjs</id>
  <published>2014-10-12T00:00:00+07:00</published>
  <updated>2014-10-12T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Khi bắt đầu xây dựng một ứng dụng AngularJS, có thể bạn không biết chính xác cách thức tổ chức các files, hoặc thậm chí là không biết mình cần những files nào. Trong bài viết này, tôi sẽ trình bày về cách tạo ra một ứng dụng bằng AngularJS và cách tổ chức cấu trúc thư mục với các ứng dụng ở các mức độ khác nhau.&lt;/p&gt;

&lt;section&gt;
  &lt;header&gt;
    &lt;h2&gt;Nội dung&lt;/h2&gt;
  &lt;/header&gt;
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#to-ng-dng-n-gin&quot;&gt;Tạo ứng dụng đơn giản&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#typical-struture&quot;&gt;Typical Struture&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#nguyn-tc-lift&quot;&gt;Nguyên tắc LIFT&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#la-chn-cu-trc-khi-ng-dng-ln-dn-ln&quot;&gt;Lựa chọn cấu trúc khi ứng dụng lớn dần lên&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#cu-trc-by-type&quot;&gt;Cấu trúc by type&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#cu-trc-by-feature&quot;&gt;Cấu trúc by feature&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#kt-lun&quot;&gt;Kết luận&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;

&lt;h2 id=&quot;to-ng-dng-n-gin&quot;&gt;Tạo ứng dụng đơn giản&lt;/h2&gt;

&lt;p&gt;Bạn chỉ cần 1 thư mục gồm 1 file &lt;code&gt;index.html&lt;/code&gt; và 1 file &lt;code&gt;app.js&lt;/code&gt; như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;app/
----index.html
----app.js&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Trong file &lt;code&gt;index.html&lt;/code&gt;, chúng ta cần gọi đến thư viện angularjs, file &lt;code&gt;app.js&lt;/code&gt; và sử dụng các chỉ thị lệnh (directive) &lt;code&gt;ng-&lt;/code&gt; đã được xây dựng sẵn cho ứng dụng angularjs. Bạn có thể tìm hiểu thêm trong &lt;a href=&quot;https://docs.angularjs.org/guide&quot;&gt;tài liệu về AngularJS&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Hiện nay, việc sử dụng cấu trúc thư mục ứng dụng như thế nào là tốt nhất đang là vấn đề được quan tâm đối với một số nhà phát triển. Dĩ nhiên, không có mô hình nào được coi là hoàn hảo. Tôi sẽ trình bày các xu hướng cấu trúc thư mục đang được áp dụng hiện nay.&lt;/p&gt;

&lt;h2 id=&quot;typical-struture&quot;&gt;Typical Struture&lt;/h2&gt;

&lt;p&gt;Trong đa số các tutorial hướng dẫn về angularjs, cấu trúc thư mục được áp dụng như sau: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;app/
----- controllers/
---------- mainController.js
---------- otherController.js
----- directives/
---------- mainDirective.js
---------- otherDirective.js
----- services/
---------- userService.js
---------- itemService.js
----- js/
---------- bootstrap.js
---------- jquery.js
----- app.js
assets/
----- img/      // Images and icons &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; your app
----- css/      // All styles and style related files &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;SCSS or LESS files&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
----- js/       // JavaScript files written &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; your app that are not &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; angular
----- libs/     // Third-party libraries such as jQuery, Moment, Underscore, etc.
views/
----- mainView.html
----- otherView.html
----- index.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Đây là cấu trúc đặc trưng thường thấy. Với cấu trúc này, chúng ta tách riêng từng loại file vào chung một thư mục, controllers có thư mục riêng cho controllers, directives có thư mục riêng cho directives, …. Nó khá giống với cách tổ chức của các MVC framework. Cấu trúc này phù hợp với các ví dụ và các &lt;strong&gt;ứng dụng nhỏ&lt;/strong&gt; và cho những người mới bắt đầu tìm hiểu AngularJS vì nó giúp cho người đọc dễ hình dung và có thể khái quát hóa các khái niệm đang được nghiên cứu.&lt;/p&gt;

&lt;h2 id=&quot;nguyn-tc-lift&quot;&gt;Nguyên tắc LIFT&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://twitter.com/John_Papa&quot;&gt;John Papa&lt;/a&gt; đưa ra nguyên tắc khi cấu trúc thư mục rất hữu ích trong bài viết &lt;a href=&quot;http://www.johnpapa.net/angular-app-structuring-guidelines/&quot;&gt;Angular App Structuring Guidelines&lt;/a&gt; đó là &lt;strong&gt;LIFT&lt;/strong&gt; (Locating - Indenty - Flat - T-DRY).&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Locating&lt;/strong&gt;: dễ dàng định vị được file cần tìm.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Indentify&lt;/strong&gt;: xác định được đoạn code chúng ta cần tìm một cách nhanh chóng.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Flat&lt;/strong&gt;: làm phẳng cấu trúc nhất có thể.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;T-DRY&lt;/strong&gt;: cố gắng để không lặp lại những gì đã làm (Try to Don’t Repeat Yourself).&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;la-chn-cu-trc-khi-ng-dng-ln-dn-ln&quot;&gt;Lựa chọn cấu trúc khi ứng dụng lớn dần lên&lt;/h2&gt;

&lt;p&gt;Có nhiều cách để tổ chức thư mục. Ở đây, chúng ta tập trung vào 2 cách cấu trúc: By Type (theo loại file) và By Feature (theo đặc tính).&lt;/p&gt;

&lt;figure&gt;
	&lt;a href=&quot;/assets/img/NgStructureCompare.jpg&quot;&gt;&lt;img src=&quot;/assets/img/NgStructureCompare.jpg&quot; /&gt;&lt;/a&gt;
&lt;/figure&gt;

&lt;h3 id=&quot;cu-trc-by-type&quot;&gt;Cấu trúc by type&lt;/h3&gt;

&lt;p&gt;Với cấu trúc by type theo cột bên trái, sẽ phù hợp với các ứng dụng nhỏ. Khi các chức năng nhiều dần lên, giả sử chúng ta có nhiều hơn 10 controllers, directives, views, và chúng ta muốn thay đổi một nội dung naò đó. Khi đó, chúng ta vẫn có thể xác định được các files cần thiết trong từng thư mục riêng biệt nhưng sẽ khó khăn trong việc tìm thấy file đó ngay lập tức trong cả mớ file controller, directive, views, …. Khi đó, chúng ta chuyển sang cấu trúc theo tính năng (by feature).&lt;/p&gt;

&lt;h3 id=&quot;cu-trc-by-feature&quot;&gt;Cấu trúc by feature&lt;/h3&gt;

&lt;p&gt;Với cấu trúc &lt;code&gt;by feature&lt;/code&gt; (cột bên phải hình), chúng ta sẽ nhóm các files có liên quan đến một tính năng nào đó vào trong cùng một thư mục. Nó sẽ bao gồm các file view, directive , controller, service cho tính năng đó. Chúng ta có thể coi mỗi một folder theo feature là một mô hình MVC thu nhỏ. Với cách này, khi cần thay đổi một tính năng nào đó, chúng ta có thể dễ dàng và nhanh chóng xác định được vị trí và đoạn code chúng ta cần làm việc, nó giúp chúng rút ngắn được thời gian phát triển của dự án.&lt;/p&gt;

&lt;h2 id=&quot;kt-lun&quot;&gt;Kết luận&lt;/h2&gt;
&lt;p&gt;Có rất nhiều cách để tổ chức cấu trúc thư mục ứng dụng và không có cách nào là hoàn hảo. Chúng ta dựa trên quy mô ứng dụng để chọn một cấu trúc phù hợp với ứng dụng của mình. Các bạn cũng có thể tự tạo ra cấu trúc của riêng mình ;). Và điều quan trọng nhất vẫn là cấu trúc phải rõ ràng và chúng ta có thể dễ dàng và nhanh chóng xác định được cái mà chúng ta cần làm.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;/angularjs/cau-truc-thu-muc-voi-ung-dung-angularjs&quot;&gt;Cấu trúc thư mục cho ứng dụng AngularJS&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on October 12, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Quản lý tài nguyên public trong Laravel 4 với Asset Pipeline]]></title>
  <link>/laravel/quan-ly-tai-nguyen-public-trong-laravel-voi-asset-pipeline</link>
  <id>/laravel/quan-ly-tai-nguyen-public-trong-laravel-voi-asset-pipeline</id>
  <published>2014-10-04T00:00:00+07:00</published>
  <updated>2014-10-04T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;figure&gt;
	&lt;a href=&quot;/assets/img/pipeline.jpg&quot;&gt;&lt;img src=&quot;/assets/img/pipeline.jpg&quot; /&gt;&lt;/a&gt;
&lt;/figure&gt;

&lt;p&gt;Trong laravel 4, có nhiều cách để bạn quản lý các tài nguyên css, js, hình ảnh của mình. Trong bài này, tôi sẽ giới thiệu với bạn một cách để quản lý các tài nguyên (assets) để chúng có thể phục vụ trình duyệt một cách hiệu quả nhất có thể với Asset Pipeline.&lt;/p&gt;

&lt;p&gt;Laravel 4 không có sẵn tính năng này. Nhưng bạn hoàn toàn có thể cài đặt một package từ cộng đồng để có được chức năng tuyệt vời này trong project của bạn.&lt;/p&gt;

&lt;p&gt;Note: &lt;strong&gt;Asset Pipeline&lt;/strong&gt; có thể hiểu là đường ống dẫn tài nguyên. Trong khuôn khổ bài viết, tôi sẽ sử dụng từ &lt;strong&gt;Asset Pipeline&lt;/strong&gt; để bạn có thể quen với từ này và tìm kiếm tài liệu cũng như kiến thức liên quan bằng tiếng Anh được dễ hơn.&lt;/p&gt;

&lt;section&gt;
  &lt;header&gt;
    &lt;h2&gt;Nội dung&lt;/h2&gt;
  &lt;/header&gt;
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#what-is-an-asset-pipeline&quot;&gt;What is an asset pipeline?&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install-asset-pipeline&quot;&gt;Install Asset Pipeline&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#working-with-asset-pipeline&quot;&gt;Working with asset pipeline&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configuration-options&quot;&gt;Configuration options&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;

&lt;h2 id=&quot;what-is-an-asset-pipeline&quot;&gt;What is an asset pipeline?&lt;/h2&gt;

&lt;p&gt;Trước tiên, có lẽ tôi nên giải thích chính xác thì nó là cái gì.&lt;/p&gt;

&lt;p&gt;Khi triển khai một website trên Internet, trình duyệt phải lấy tất cả các assets (bao gồm các file css, js, images) để tạo nên trang web. Do đó, để lấy được mỗi tập tin CSS hay Javascript, trình duyệt cần tạo ra các request riêng. Theo thời gian, các file CSS và Javascript có thể sẽ lớn dần lên, nếu bạn làm với các project lớn.&lt;/p&gt;

&lt;p&gt;Asset pipeline sẽ tự động kết hợp tất cả các files tài nguyên vào trong một file duy nhất và tối thiểu hóa (minify) code trong đó. Điều đó có nghĩa là trình duyệt chỉ phải thực hiện &lt;strong&gt;1&lt;/strong&gt; request duy nhất, kích cỡ file cũng giảm đi đáng kể và nó sẽ có ảnh hưởng lớn đến hiệu năng của trang web.&lt;/p&gt;

&lt;p&gt;Thời gian gần đây, các developers có xu hướng viết CSS sử dụng LESS hoặc SASS, hoặc họ dùng CoffeeScript thay vì Javascript thông thường. Asset pipeline cũng sẽ tự động biên dịch tất cả chúng thành một file CSS hoặc Javascript thông thường.&lt;/p&gt;

&lt;p&gt;Thêm nữa là, asset pipeline cũng sẽ tự động cache các files stylesheets và javascripts khi bạn triển khai trong môi trường production. Do đó, các files này sẽ không phải download lại mỗi lần tải lại trang nếu chúng không có gì thay đổi.&lt;/p&gt;

&lt;p&gt;Đó là các lý do tại sao bạn nên sử dụng asset pipeline. Asset pipeline có rất nhiều lợi ích tuyệt vời, ngay cả khi bạn không có ý định sử dụng một bộ tiền xử lý (preprocessor) (như LESS hay SASS) hay chỉ muốn viết javascript thuần :).&lt;/p&gt;

&lt;h2 id=&quot;install-asset-pipeline&quot;&gt;Install Asset Pipeline&lt;/h2&gt;

&lt;p&gt;Hiện tại, tôi đang sử dụng package &lt;a href=&quot;https://github.com/CodeSleeve/asset-pipeline&quot;&gt;Asset Pipeline&lt;/a&gt; này trong các project của mình.&lt;/p&gt;

&lt;p&gt;Để cài đặt package, đơn giản là bạn chỉ cần thêm dòng sau dưới đây vào file &lt;code&gt;composer.json&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;require&amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;codesleeve/asset-pipeline&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;dev-master&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tiếp đó, bạn chạy lệnh sau để cập nhật các phụ thuộc và tải package &lt;strong&gt;asset pineline&lt;/strong&gt; về:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;composer update&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tiếp đến, chúng ta cần nói cho Laravel biết về service provider (người cung cấp dịch vụ). Bạn thêm dòng code dưới dây vào phần &lt;code&gt;providers&lt;/code&gt; trong file &lt;code&gt;app/config/app.php&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span class=&quot;err&quot;&gt;&amp;#39;Codesleeve\AssetPipeline\AssetPipelineServiceProvider&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau đó, asset pipeline sẽ có các cách hành xử khác nhau phụ thuộc vào môi trường bạn đang thiết lập. Trong môi trường production, tất cả các file của bạn sẽ được nén lại (compress), ghép nối với nhau (concatenate) và sao lưu (cache). Nếu bạn không muốn điều đó xảy ra trong môi trường developing, bạn cần thiết lập chính xác môi trường triển khai của mình. Để chắc chắn rằng bạn đang thiết lập môi trường &lt;strong&gt;local&lt;/strong&gt; cho project của mình, bạn kiểm tra phần thiết lập môi trường trong file &lt;code&gt;bootstrap/start.php&lt;/code&gt; như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;x&quot;&gt;$env = $app-&amp;gt;detectEnvironment(array(&lt;/span&gt;
&lt;span class=&quot;x&quot;&gt;	&amp;#39;local&amp;#39; =&amp;gt; array(&amp;#39;localhost&amp;#39;),&lt;/span&gt;
&lt;span class=&quot;x&quot;&gt;));&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Cuối cùng, bạn cần tạo ra các files asset của riêng mình bằng cách nhập vào lệnh sau từ Terminal: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php artisan assets:setup&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;working-with-asset-pipeline&quot;&gt;Working with asset pipeline&lt;/h2&gt;

&lt;p&gt;Và giờ, project của bạn đã được cài đặt asset pipeline. Bạn sẽ thấy có thêm vài thư mục mới trong project. Đó là thư mục &lt;code&gt;assets&lt;/code&gt; ở dưới thư mục &lt;code&gt;app/&lt;/code&gt;, và thư mục &lt;code&gt;provider/&lt;/code&gt; ngang hàng với thư mục &lt;code&gt;app/&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;/provider/assets/javascripts/jquery.min.js
/provider/assets/stylesheets/readme.txt
/app/assets/javascripts/application.js
/app/assets/images/readme.txt
/app/assets/stylesheets/application.css&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Hai files &lt;code&gt;/app/assets/javascripts/application.js&lt;/code&gt; và &lt;code&gt;/app/assets/stylesheets/application.css&lt;/code&gt; sẽ bao gồm tất cả các files tài nguyên khác trong cùng thư mục và chúng ta sử dụng chúng để cung cấp các tài nguyên cho trang web.&lt;/p&gt;

&lt;p&gt;Để thêm các asset files vào trong HTML template, bạn thêm hai thẻ sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stylesheet_link_tag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;javascript_include_tag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Hai thẻ trên sẽ generate ra chính xác thẻ &lt;code&gt;link&lt;/code&gt; và &lt;code&gt;script&lt;/code&gt; khi bạn chạy trên trình duyệt:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;stylesheet&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text/css&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://localhost:8000/assets/application.css&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://localhost:8000/assets/application.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Bạn có thể thêm hình ảnh vào views một cách dễ dàng với thẻ &lt;code&gt;image_tag()&lt;/code&gt;. Giả sử, bạn có hình ảnh về chú chim Tweety đặt trong file &lt;code&gt;app/assets/images/tweety.png&lt;/code&gt;, bạn sẽ thay thế hình ảnh icon Laravel bằng hình ảnh Tweety Bird. Bạn thay thế nội dung trong phần body của file &lt;code&gt;app/views/hello.php&lt;/code&gt; thành: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;x&quot;&gt;&amp;lt;div class=&amp;quot;welcome&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;x&quot;&gt;	&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;image_tag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;tweety.png&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;alt&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Tweety&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;&lt;/span&gt;
&lt;span class=&quot;x&quot;&gt;&amp;lt;h1&amp;gt;You have arrived.&amp;lt;/h1&amp;gt;&lt;/span&gt;
&lt;span class=&quot;x&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Bạn mở trình duyệt và gõ vào địa chỉ &lt;code&gt;http://localhost:8000&lt;/code&gt; (tùy thuộc vào cổng khi bạn chạy lệnh &lt;code&gt;php artisan serve&lt;/code&gt; nhé :D) và Enter, kết quả sẽ như thế này: &lt;/p&gt;

&lt;figure&gt;
	&lt;a href=&quot;/assets/img/welcome_laravel.jpg&quot;&gt;&lt;img src=&quot;/assets/img/image-tag-demo.png&quot; /&gt;&lt;/a&gt;
&lt;/figure&gt;

&lt;p&gt;Hình ảnh chú Tweety Bird của bạn sẽ được tải lên với đường dẫn &lt;code&gt;http://localhost:8000/assets/tweety.png&lt;/code&gt;. Bạn có thể sử dụng Bug Tool để xác nhận lại ;).&lt;/p&gt;

&lt;h2 id=&quot;configuration-options&quot;&gt;Configuration options&lt;/h2&gt;

&lt;p&gt;Bạn cũng có thể thay đổi các cấu hình mặc định của package &lt;strong&gt;asset pipeline&lt;/strong&gt; này. Để làm được việc đó, bạn chạy dòng lệnh sau: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php artisan config:publish codesleeve/asset-pipeline&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Với việc thi hành lệnh trên, nó sẽ generate ra file cấu hình asset pipeline cho project cụ thể của bạn và nó sẽ tự động ghi đè lên các thiết lập mặc định. Bạn sẽ tìm thấy file cấu hình mà bạn có thể sửa trong thư mục &lt;code&gt;app/config/packages&lt;/code&gt;. Bạn hãy xem thêm &lt;a href=&quot;https://github.com/CodeSleeve/asset-pipeline#configuration&quot;&gt;tài liệu&lt;/a&gt; để có những giải thích chi tiết hơn về các tùy chọn cấu hình.&lt;/p&gt;

&lt;p&gt;Hy vọng bạn đã có thể quản lý các asset của mình một cách dễ dàng. Have fun! ;)&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;/laravel/quan-ly-tai-nguyen-public-trong-laravel-voi-asset-pipeline&quot;&gt;Quản lý tài nguyên public trong Laravel 4 với Asset Pipeline&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on October 04, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Xóa cache views trong laravel 4 với Artisan command]]></title>
  <link>/laravel/xoa-cache-view-trong-laravel-4-voi-artisan-command</link>
  <id>/laravel/xoa-cache-view-trong-laravel-4-voi-artisan-command</id>
  <published>2014-10-03T00:00:00+07:00</published>
  <updated>2014-10-03T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Khi phát triển ứng dụng với laravel 4, có sự thay đổi trên view nhưng khi reload ứng dụng thì bạn không hề thấy có sự thay đổi. Mặc dù đã xóa cache với lệnh &lt;code&gt;php artisan cache:clear&lt;/code&gt; nhưng vẫn không khả quan hơn. Lý do là ứng dụng của chúng ta còn lưu lại cache của views trong thư mục &lt;code&gt;app/storage/views&lt;/code&gt;. Bạn có thể truy cập vào thư mục &lt;code&gt;app/storage/views&lt;/code&gt; và xóa hết các files trong thư mục này đi. Với cách làm thủ công này chắc chắn sẽ khiến bạn phát rồ lên. Trong bài này, tôi sẽ chỉ cho bạn cách xóa views cache dễ như ăn kẹo vậy :).&lt;/p&gt;

&lt;p&gt;Chúng ta sẽ chỉ cần chạy lệnh &lt;code&gt;php artisan views:clear&lt;/code&gt; là giải quyết được vấn đề với views cache. Để làm được việc đó, chúng ta cần làm những việc sau:&lt;/p&gt;

&lt;section&gt;
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#building-a-command&quot;&gt;Building A Command&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#registering-command&quot;&gt;Registering Command&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#run-command&quot;&gt;Run Command&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;

&lt;h2 id=&quot;building-a-command&quot;&gt;Building A Command&lt;/h2&gt;

&lt;p&gt;Laravel cho phép chúng ta tự tạo ra các lệnh của riêng mình. Để tạo một lệnh mới, bạn mở trình Terminal lên, di chuyển đến thư mục chứa project và nhập vào dòng lệnh sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;x&quot;&gt;php artisan command:make ViewsCommand&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Với lệnh trên, file &lt;code&gt;ViewsCommand.php&lt;/code&gt; sẽ được generate vào thư mục &lt;code&gt;app/commands&lt;/code&gt;. Tiếp đến, bạn copy đoạn code dưới đây vào file &lt;code&gt;ViewsCommand.php&lt;/code&gt;. Bạn có thể xem thêm chi tiết về cách viết Artisan Command tại &lt;a href=&quot;http://laravel.com/docs/4.2/commands&quot;&gt;Artisan Development&lt;/a&gt; :&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/taly2808/ae1317a7ef1fbde9b575.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;registering-command&quot;&gt;Registering Command&lt;/h2&gt;

&lt;p&gt;Sau khi &lt;code&gt;ViewsCommand&lt;/code&gt; được hoàn tất, bạn cần đăng ký nó với Artisan để có thể sử dụng nó. Bạn mở file &lt;code&gt;app/start/artisan.php&lt;/code&gt; và sử dụng method &lt;code&gt;Artisan::add&lt;/code&gt; để đăng ký như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;x&quot;&gt;Artisan::add(new ViewsCommand);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;run-command&quot;&gt;Run Command&lt;/h2&gt;

&lt;p&gt;Bây giờ, bạn đã có thể xóa cache views một cách dễ dàng bằng cách chạy lệnh &lt;code&gt;php artisan views:clear&lt;/code&gt;. Kết quả như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php artisan views:clear
Views deleted from cache&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Hy vọng có thể giúp các bạn giải quyết được vấn đề của mình. Have fun! ;)&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;/laravel/xoa-cache-view-trong-laravel-4-voi-artisan-command&quot;&gt;Xóa cache views trong laravel 4 với Artisan command&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on October 03, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Hướng dẫn cài đặt Laravel 4]]></title>
  <link>/laravel/huong-dan-cai-dat-laravel</link>
  <id>/laravel/huong-dan-cai-dat-laravel</id>
  <published>2014-09-27T00:00:00+07:00</published>
  <updated>2014-09-27T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Có nhiều cách để cài đặt Laravel. Trong bài viết này, tôi sẽ trình bày các cách cài đặt Laravel trên Linux và trên Windows từ mọi thứ mà Laravel yêu cầu. Bạn sẽ biết cài đặt PHP, MySQL, MCrypt, Composer và mọi thứ để ứng dụng của bạn có thể chạy :).&lt;/p&gt;

&lt;section&gt;
  &lt;header&gt;
    &lt;h2&gt;Nội dung&lt;/h2&gt;
  &lt;/header&gt;
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#system-requirements&quot;&gt;System Requirements&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install-php&quot;&gt;Install PHP&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#using-lampp-or-xampp&quot;&gt;Using LAMPP or XAMPP&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#from-scratch&quot;&gt;From Scratch&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install-composer&quot;&gt;Install Composer&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install-laravel&quot;&gt;Install Laravel&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#via-composer&quot;&gt;Via Composer&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#via-laravel-installer&quot;&gt;Via Laravel Installer&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#run-your-fisrt-app&quot;&gt;Run your fisrt app&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;

&lt;h2 id=&quot;system-requirements&quot;&gt;System Requirements&lt;/h2&gt;

&lt;p&gt;Để chạy được Laravel, chúng ta cần:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;PHP &amp;gt;= 5.4 (phiên bản 5.4 hoặc mới hơn)&lt;/li&gt;
  &lt;li&gt;MCrypt PHP Extension&lt;/li&gt;
  &lt;li&gt;Composer&lt;/li&gt;
  &lt;li&gt;Laravel&lt;/li&gt;
  &lt;li&gt;Openssl phải được enabled trong file &lt;code&gt;php.ini&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;install-php&quot;&gt;Install PHP&lt;/h2&gt;

&lt;p&gt;Trước hết, bạn kiểm tra PHP đã được cài đặt trên máy hay chưa với lệnh:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php -v&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nếu kết quả hiển thị như dưới đây, tức là bạn đã cài đặt thành công PHP trên máy tính và bạn có thể bỏ qua phần cài đặt PHP này.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;PHP 5.5.11 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cli&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;built: Apr  &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2014&lt;/span&gt; 15:07:14&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1997-2014 The PHP Group
Zend Engine v2.5.0, Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1998-2014 Zend Technologies&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nếu phiên bản PHP của bạn nhỏ hơn 5.4 hoặc không có phiên bản nào, bạn cần phải cài đặt PHP. Bạn có thể lựa chọn cài đặt đủ bộ AMP (Apache + MySQL + PHP) bằng cách cài đặt LAMPP (cho Linux) hoặc XAMPP (cho Windows). Hoặc bạn có thể cài trực tiếp các thành phần riêng lẻ.&lt;/p&gt;

&lt;h3 id=&quot;using-lampp-or-xampp&quot;&gt;Using LAMPP or XAMPP&lt;/h3&gt;

&lt;p&gt;Nếu bạn ngại phải cài đặt từng thứ rời rạc, và lo ngại không biết mình có cài đặt và cấu hình đúng không, bạn có thể cài đặt XAMPP để có môi trường đã được tích hợp đầy đủ PHP, Apache2, MySQL, Perl với phiên bản mới nhất. Và một điều rất tuyệt nữa đó là &lt;strong&gt;MCrypt&lt;/strong&gt; đã có sẵn trong XAMPP, do đó bạn không còn phải lo lắng về nó nữa.&lt;strong&gt;Nếu bạn dùng Windows, tôi khuyến nghị bạn nên cài đặt PHP theo cách này&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Để cài đặt XAMPP, bạn cần download &lt;a href=&quot;https://www.apachefriends.org/download.html&quot;&gt;XAMPP&lt;/a&gt; phiên bản phù hợp với máy tính của bạn về. Sauu đó tiến hành cài đặt lên máy tính của bạn.&lt;/p&gt;

&lt;p&gt;Sau khi hoàn tất, XAMPP được cài đặt vào trong thư mục &lt;strong&gt;/opt/lampp&lt;/strong&gt; với Linux, và trong thư mục C:\xampp trên Windows (nếu bạn chọn ổ C khi cài đặt). Bạn chạy lại lệnh &lt;code&gt;php -v&lt;/code&gt; để kiểm tra kết quả.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Trên Windows, nếu bạn đã cài đặt XAMPP mà vẫn bị báo lỗi không có phiên bản, bạn cần thiết lập &lt;strong&gt;PATH&lt;/strong&gt; với lệnh &lt;code&gt;set PATH=%PATH%;C:\path\to\php&lt;/code&gt; trong đó &lt;code&gt;\path\to\php&lt;/code&gt; là đường dẫn đến thư mục chứa file &lt;code&gt;php.exe&lt;/code&gt;. Giả sử, bạn sử dụng xampp, khi đó bạn nhập vào dòng lệnh sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;C:&lt;span class=&quot;se&quot;&gt;\&amp;gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;%PATH%&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;C:&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;ampp&lt;span class=&quot;se&quot;&gt;\p&lt;/span&gt;hp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau khi cài đặt XAMPP, bạn cần &lt;strong&gt;Enable OpenSSL&lt;/strong&gt; bằng cách mở file &lt;code&gt;php.ini&lt;/code&gt; (tại thư mục C:/xampp/php), tìm: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;extension&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;php_openssl.dll&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;và bỏ dấu &lt;code&gt;;&lt;/code&gt; phía trước, khi đó, trông nó thế này:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;extension&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;php_openssl.dll&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Okay, bây giờ thì restart Apache.&lt;/p&gt;

&lt;h3 id=&quot;from-scratch&quot;&gt;From Scratch&lt;/h3&gt;
&lt;p&gt;(Sử dụng cho Linux).&lt;/p&gt;

&lt;p&gt;Nhập vào Terminal các lệnh sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo apt-get update
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo apt-get install php5-common libapache2-mod-php5 php5-cli&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau đó, bạn chạy lại lệnh &lt;code&gt;php -v&lt;/code&gt; để kiểm tra phiên bản PHP.&lt;/p&gt;

&lt;h2 id=&quot;install-composer&quot;&gt;Install Composer&lt;/h2&gt;

&lt;p&gt;Laravel sử dụng &lt;a href=&quot;http://getcomposer.org/&quot;&gt;Composer&lt;/a&gt; để quản lý các thư viện phụ thuộc. Bạn tham khảo bài viết &lt;a href=&quot;/laravel/huong-dan-cai-dat-composer&quot;&gt;hướng dẫn cài đặt Composer&lt;/a&gt; để có thể cài đặt Composer. Tôi khuyến nghị bạn nên cài đặt Composer sử dụng cho toàn hệ thống (globally). &lt;/p&gt;

&lt;p&gt;Bạn có thể kiểm tra Composer đã được cài đặt hay chưa bằng cách mở Terminal và chạy lệnh sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;composer --version
Composer version b33da336ecb7f1c9b15a57285e5a9f09cf5f3dd2 2014-09-30 15:28:01&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nếu kết quả hiển thị như trên thì chắc chắn bạn đã cài composer thành công trên máy tính của mình.&lt;/p&gt;

&lt;h2 id=&quot;install-laravel&quot;&gt;Install Laravel&lt;/h2&gt;

&lt;p&gt;Bạn có thể cài đặt Laravel bằng 1 trong 2 cách dưới đây:&lt;/p&gt;

&lt;h3 id=&quot;via-composer&quot;&gt;Via Composer&lt;/h3&gt;

&lt;p&gt;(Khuyến nghị bạn nên sử dụng cách này).&lt;/p&gt;

&lt;p&gt;Nếu bạn dùng XAMPP, bạn cần di chuyển bằng command line đến thư mục webroot ( &lt;code&gt;/opt/lampp/htdocs&lt;/code&gt; trên Linux và &lt;code&gt;C:\xampp\htdocs&lt;/code&gt; trên Windows). Bạn muốn tạo mới một project có tên &lt;strong&gt;test_laravel&lt;/strong&gt;, bạn nhập vào Terminal (trình command line trên Windows) như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /opt/lampp/htdocs
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;composer create-project laravel/laravel test_laravel --prefer-dist&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Trên Windows sẽ thế này:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;C:&lt;span class=&quot;se&quot;&gt;\&amp;gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;xampp&lt;span class=&quot;se&quot;&gt;\h&lt;/span&gt;tdocs
C:&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;ampp&lt;span class=&quot;se&quot;&gt;\h&lt;/span&gt;tdocs&amp;gt; composer create-project laravel/laravel test_laravel --prefer-dist&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Composer sẽ tự động tạo project cho bạn, và bạn chỉ cần ngồi đợi thông báo &lt;strong&gt;successfull&lt;/strong&gt; thôi.&lt;/p&gt;

&lt;h3 id=&quot;via-laravel-installer&quot;&gt;Via Laravel Installer&lt;/h3&gt;

&lt;p&gt;Trước tiên, bạn cần download Laravel Installer. Có 2 cách:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Cách 1: Sử dụng Composer. Nhập vào Terminal lệnh sau:&lt;/p&gt;

  &lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;gt; composer global require &lt;span class=&quot;s2&quot;&gt;&amp;quot;laravel/installer=~1.1&amp;quot;&lt;/span&gt;
&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Cách 2: Download &lt;a href=&quot;http://laravel.com/laravel.phar&quot;&gt;Laravel Installer&lt;/a&gt; , đổi tên thành &lt;code&gt;laravel&lt;/code&gt;.
Tiếp đến, copy file &lt;code&gt;laravel&lt;/code&gt; sang thư mục &lt;code&gt;/urs/local/bin&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tạo project &lt;strong&gt;test_laravel&lt;/strong&gt; bằng câu lệnh:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;laravel new test_laravel&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau khi tạo xong project, bạn cần cấp quyền ghi cho web server vào thư mục &lt;code&gt;app/storage&lt;/code&gt;. Nếu bạn dùng Linux, bạn di chuyển đến thư mục chứa project và sử dụng lệnh sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo chmod -R &lt;span class=&quot;m&quot;&gt;777&lt;/span&gt; app/storage&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;run-your-fisrt-app&quot;&gt;Run your fisrt app&lt;/h2&gt;

&lt;p&gt;Bạn đã có project, bạn cần khởi động nó bằng cách sử dụng Artisan - một command line interface của Laravel. Đơn giản là bạn chỉ cần di chuyển đến project:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;test_laravel&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;và thực thi lệnh: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;php artisan server&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Bạn sẽ thấy kết quả: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Laravel development server started on http://localhost:8000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Mở trình duyệt web và gõ vào địa chỉ &lt;code&gt;http://localhost:8000&lt;/code&gt;, tận hưởng thành quả nào:&lt;/p&gt;
&lt;figure&gt;
	&lt;a href=&quot;/assets/img/welcome_laravel.jpg&quot;&gt;&lt;img src=&quot;/assets/img/welcome_laravel.jpg&quot; /&gt;&lt;/a&gt;
&lt;/figure&gt;

  &lt;p&gt;&lt;a href=&quot;/laravel/huong-dan-cai-dat-laravel&quot;&gt;Hướng dẫn cài đặt Laravel 4&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on September 27, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Hướng dẫn cài đặt Composer]]></title>
  <link>/laravel/huong-dan-cai-dat-composer</link>
  <id>/laravel/huong-dan-cai-dat-composer</id>
  <published>2014-09-24T00:00:00+07:00</published>
  <updated>2014-09-24T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Composer là một công cụ để quản lý sự phụ thuộc trong PHP. Bạn có một project và nó phụ thuộc vào một cơ số các thư viện. Một vài thư viện trong số đó lại phụ thuộc vào các thư viện khác. Việc tải các thư viện cần thiết cho project theo cách thông thường cũng khá tốn thời gian và mệt não. Với Composer, bạn chỉ cần khai báo các thư viện project cần, Composer sẽ tìm các phiên bản tương ứng và download chúng vào vào trong project cho bạn.&lt;/p&gt;

&lt;section&gt;
  &lt;header&gt;
    &lt;h2&gt;Nội dung&lt;/h2&gt;
  &lt;/header&gt;
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#khai-bo-ph-thuc&quot;&gt;Khai báo phụ thuộc&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#system-requirements&quot;&gt;System Requirements&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ci-t&quot;&gt;Cài đặt&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ci-t-trn-linux&quot;&gt;Cài đặt trên Linux&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#locally&quot;&gt;Locally&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#globally&quot;&gt;Globally&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ci-t-trn-windows&quot;&gt;Cài đặt trên Windows&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#using-the-installer&quot;&gt;Using the Installer&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#manual-installation&quot;&gt;Manual Installation&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;

&lt;h2 id=&quot;khai-bo-ph-thuc&quot;&gt;Khai báo phụ thuộc&lt;/h2&gt;

&lt;p&gt;Giả sử, bạn có một dự án và bạn cần thư viện để ghi log. Bạn có thể sử dụng &lt;a href=&quot;https://github.com/Seldaek/monolog&quot;&gt;monolog&lt;/a&gt; hoặc &lt;a href=&quot;http://logging.apache.org/log4php/&quot;&gt;log4php&lt;/a&gt;. Giả như bạn quyết định sử dụng &lt;strong&gt;monolog&lt;/strong&gt;. Để thêm thư viện &lt;strong&gt;monolog&lt;/strong&gt; vào trong project, bạn chỉ cần tạo một file &lt;code&gt;composer.json&lt;/code&gt; và liệt kê thư viện phụ thuộc vào đó: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;require&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;quot;monolog/monolog&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1.2.*&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Với khai báo như trên, chúng ta nói rằng chúng ta yêu cầu một số gói monolog/monolog của bất kỳ phiên bản nào bắt đầu  bằng 1.2. Composer sẽ tự động tải về và đặt nó trong thư mục &lt;strong&gt;your-project/vendor/&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;system-requirements&quot;&gt;System Requirements&lt;/h2&gt;

&lt;p&gt;Composer yêu cầu máy tính của bạn phải có PHP phiên bản 5.3.2 trở lên. Bạn có thể kiểm tra phiên bản PHP trên máy bằng lệnh &lt;strong&gt;&lt;code&gt;php -v&lt;/code&gt;&lt;/strong&gt; hoặc &lt;strong&gt;&lt;code&gt;php --version&lt;/code&gt;&lt;/strong&gt; như sau: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php -v
PHP 5.5.14-2+deb.sury.org~precise+1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cli&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;built: Jul  &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2014&lt;/span&gt; 11:56:23&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 
Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1997-2014 The PHP Group
Zend Engine v2.5.0, Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1998-2014 Zend Technologies
    with Zend OPcache v7.0.4-dev, Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1999-2014, by Zend Technologies&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nếu kết quả của bạn không tương tự như trên, bạn cần cài đặt PHP trên máy hoặc nâng cấp phiên bản nếu phiên bản của bạn nhỏ hơn 5.3.2.&lt;/p&gt;

&lt;p&gt;Nếu bạn dùng Windows và bạn gặp phải lỗi:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;C:&lt;span class=&quot;se&quot;&gt;\&amp;gt;&lt;/span&gt;php --version
&lt;span class=&quot;s1&quot;&gt;&amp;#39;php&amp;#39;&lt;/span&gt; is not recognized as an internal or external &lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt;,
operable program or batch file.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Khi đó, bạn cần thiết lập &lt;strong&gt;PATH&lt;/strong&gt; với lệnh &lt;code&gt;set PATH=%PATH%;C:\path\to\php&lt;/code&gt; trong đó &lt;code&gt;\path\to\php&lt;/code&gt; là đường dẫn đến thư mục chứa file &lt;code&gt;php.exe&lt;/code&gt;. Giả sử, bạn sử dụng xampp, khi đó bạn nhập vào dòng lệnh sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;C:&lt;span class=&quot;se&quot;&gt;\&amp;gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;%PATH%&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;C:&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;ampp&lt;span class=&quot;se&quot;&gt;\p&lt;/span&gt;hp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Kiểm tra kết quả:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;C:&lt;span class=&quot;se&quot;&gt;\&amp;gt;&lt;/span&gt;php -v
PHP 5.5.11 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;cli&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;built: Apr  &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2014&lt;/span&gt; 15:07:14&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1997-2014 The PHP Group
Zend Engine v2.5.0, Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 1998-2014 Zend Technologies&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;ci-t&quot;&gt;Cài đặt&lt;/h2&gt;

&lt;p&gt;Trong bài viết này, tôi hướng dẫn cả 2 phương thức cài đặt locally và globally. Nhưng tôi khuyến nghị bạn nên tiến hành cài đặt theo phương thức &lt;strong&gt;Globally&lt;/strong&gt; trên Linux và sử dụng &lt;strong&gt;Installer&lt;/strong&gt; trên Windows.&lt;/p&gt;

&lt;h3 id=&quot;ci-t-trn-linux&quot;&gt;Cài đặt trên Linux&lt;/h3&gt;

&lt;p&gt;Để cài đặt Composer trên Linux (tôi sử dụng Ubuntu), máy tính của bạn cần có sẵn phần mềm &lt;strong&gt;curl&lt;/strong&gt;. Bạn kiểm tra phần mềm đã được cài đặt hay chưa bằng lệnh: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl --version
curl 7.22.0 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;i686-pc-linux-gnu&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3
Protocols: dict file ftp ftps gopher http https imap imaps ldap pop3 pop3s rtmp rtsp smtp smtps telnet tftp 
Features: GSS-Negotiate IDN IPv6 Largefile NTLM NTLM_WB SSL libz TLS-SRP&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nếu kết quả hiển thị phiên bản của curl như trên thì máy bạn đã được cài đặt. Nếu không, bạn dễ dàng cài đặt &lt;strong&gt;curl&lt;/strong&gt; bằng lệnh sau: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo apt-get install curl&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4 id=&quot;locally&quot;&gt;Locally&lt;/h4&gt;

&lt;p&gt;Với phương thức này bạn sẽ cài đặt composer cho từng dự án của bạn. Bạn di chuyển đến thư mục chứa project, nhập vào dòng lệnh sau vào Terminal:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl -sS https://getcomposer.org/installer &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; php&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nếu lệnh trên bị lỗi, bạn có thể thay thế bằng lệnh: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;php -r &lt;span class=&quot;s2&quot;&gt;&amp;quot;readfile(&amp;#39;https://getcomposer.org/installer&amp;#39;);&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; php&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Máy tính sẽ kiểm tra cấu hình PHP và sau đó sẽ download &lt;strong&gt;composer.phar&lt;/strong&gt; về thư mục project của bạn.&lt;/p&gt;

&lt;p&gt;Bạn cũng có thể cài đặt Composer vào một thư mục cụ thể bằng cách sử dụng option &lt;strong&gt;&lt;code&gt;--install-dir&lt;/code&gt;&lt;/strong&gt; và cung cấp đường dẫn tới thư mục đích cho nó (có thể là đường dẫn tương đối hoặc tuyệt đối đều được):&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl -sS https://getcomposer.org/installer &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; php -- --install-dir&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;bin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau đó, bạn chỉ cần chạy &lt;strong&gt;&lt;code&gt;php composer.phar&lt;/code&gt;&lt;/strong&gt; để chạy Composer.&lt;/p&gt;

&lt;h4 id=&quot;globally&quot;&gt;Globally&lt;/h4&gt;

&lt;p&gt;Bạn có thể đặt file &lt;strong&gt;composer.phar&lt;/strong&gt; ở bất cứ đâu. Và nếu bạn đặt nó trong đường dẫn của bạn thì bạn có thể truy cập nó như là biến toàn cục. Để download &lt;strong&gt;composer.phar&lt;/strong&gt; về máy (đặt bất cứ đâu bạn muốn), bạn chạy các lệnh sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl -sS https://getcomposer.org/installer &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; php
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;sudo mv composer.phar /usr/local/bin/composer&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau đó, bạn chỉ cần chạy &lt;strong&gt;&lt;code&gt;composer&lt;/code&gt;&lt;/strong&gt; thay vì phải chạy &lt;strong&gt;&lt;code&gt;php composer.phar&lt;/code&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;ci-t-trn-windows&quot;&gt;Cài đặt trên Windows&lt;/h3&gt;

&lt;h4 id=&quot;using-the-installer&quot;&gt;Using the Installer&lt;/h4&gt;

&lt;p&gt;Đây là cách dễ nhất để bạn cài đặt Composer về máy. Bạn chỉ cần download và chạy file &lt;a href=&quot;https://getcomposer.org/Composer-Setup.exe&quot;&gt;Composer-Setup.exe&lt;/a&gt;. Nó sẽ tự động cài đặt phiên bản Composer mới nhất và thiết lập &lt;strong&gt;PATH&lt;/strong&gt; cho bạn. Giờ đây, bạn có thể chạy lệnh &lt;strong&gt;&lt;code&gt;composer&lt;/code&gt;&lt;/strong&gt; từ bất cứ thư mục nào bằng command line.&lt;/p&gt;

&lt;h4 id=&quot;manual-installation&quot;&gt;Manual Installation&lt;/h4&gt;

&lt;p&gt;Thay đổi đến thư mục bạn muốn và chạy các lệnh sau để download composer.phar:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;C:&lt;span class=&quot;se&quot;&gt;\U&lt;/span&gt;sers&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;sername&amp;gt;cd C:&lt;span class=&quot;se&quot;&gt;\b&lt;/span&gt;in
C:&lt;span class=&quot;se&quot;&gt;\b&lt;/span&gt;in&amp;gt;php -r &lt;span class=&quot;s2&quot;&gt;&amp;quot;readfile(&amp;#39;https://getcomposer.org/installer&amp;#39;);&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; php&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Lưu ý:&lt;/strong&gt; Nếu câu lệnh trên bị lỗi, bạn thay thế &lt;strong&gt;https&lt;/strong&gt; bằng &lt;strong&gt;http&lt;/strong&gt; hoặc enable &lt;strong&gt;php_openssl.dll&lt;/strong&gt; trong file &lt;strong&gt;php.ini&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Tiếp đến, bạn tạo file &lt;strong&gt;&lt;code&gt;composer.bat&lt;/code&gt;&lt;/strong&gt; ngang hàng với file &lt;strong&gt;&lt;code&gt;composer.phar&lt;/code&gt;&lt;/strong&gt; bằng lệnh sau: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;C:&lt;span class=&quot;se&quot;&gt;\b&lt;/span&gt;in&amp;gt;echo @php &lt;span class=&quot;s2&quot;&gt;&amp;quot;%~dp0composer.phar&amp;quot;&lt;/span&gt; %*&amp;gt;composer.bat&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau khi cài đặt xong, để kiểm tra việc cài đặt composer, bạn đóng cửa sổ Ternimal hiện tại lại, mở một cửa sổ terminal mới: &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;C:&lt;span class=&quot;se&quot;&gt;\U&lt;/span&gt;sers&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;sername&amp;gt;composer --version
Composer version b33da336ecb7f1c9b15a57285e5a9f09cf5f3dd2 2014-09-30 15:28:01&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Với kết quả hiển thị như trên, bạn đã cài đặt thành công Composer trên máy tính của mình.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;/laravel/huong-dan-cai-dat-composer&quot;&gt;Hướng dẫn cài đặt Composer&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on September 24, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Kiểm tra kết nối database với CodeIgniter]]></title>
  <link>/codeigniter/kiem-tra-ket-noi-database-voi-codeigniter</link>
  <id>/codeigniter/kiem-tra-ket-noi-database-voi-codeigniter</id>
  <published>2014-09-23T00:00:00+07:00</published>
  <updated>2014-09-23T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Khi làm việc với Model cần kết nối đến database, tôi gặp phải thông báo lỗi sau: (Tôi đang sử dụng CodeIgniter 2.2.0, Apache/2.4.9 (Unix), PHP/5.5.11, MySQL/5.0.1):&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;A Database Error Occurred

Unable to connect to your database server using the provided settings.

Filename: core/Loader.php

Line Number: 346&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Và đây là thông số cấu hình database trong &lt;strong&gt;/application/config/database.php&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;hostname&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;mypasword&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;database&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;db_codeigniter_test&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;dbdriver&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;mysql&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;dbprefix&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;pconnect&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;db_debug&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;cache_on&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;cachedir&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;char_set&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;dbcollat&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;utf8_general_ci&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;swap_pre&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;autoinit&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;stricton&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Để kiểm tra có kết nối được tới database hay không, ta cần thêm đoạn code sau phía dưới cùng của file &lt;strong&gt;/application/config/database.php&lt;/strong&gt; và xem kết quả:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;pre&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;print_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;/pre&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Connecting to database: &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;database&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$dbh&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mysql_connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;hostname&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;     &lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;die&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Cannot connect to the database because: &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mysql_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;nb&quot;&gt;mysql_select_db&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;database&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;br /&amp;gt;   Connected OK:&amp;#39;&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;die&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;file: &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;__FILE__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Line: &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;__LINE__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nếu bạn gặp cảnh báo &lt;strong&gt;The mysql extension is deprecated and will be removed in the future: use mysqli or PDO instead&lt;/strong&gt;, để loại bỏ thông báo này, bạn có thể thêm &lt;code&gt;error_reporting(E_ALL ^ E_DEPRECATED);&lt;/code&gt; vào đầu file &lt;strong&gt;/application/config/database.php&lt;/strong&gt; hoặc chỉnh sửa giá trị của &lt;strong&gt;error_reporting&lt;/strong&gt; trong file &lt;strong&gt;php.ini&lt;/strong&gt;.
Xem thêm tại &lt;a href=&quot;http://stackoverflow.com/questions/13944956/the-mysql-extension-is-deprecated-and-will-be-removed-in-the-future-use-mysqli&quot;&gt;http://stackoverflow.com/questions/13944956/the-mysql-extension-is-deprecated-and-will-be-removed-in-the-future-use-mysqli&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Nếu bạn gặp thông báo lỗi: &lt;strong&gt;mysql_connect(): No such file or directory&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Server không kết nối được tới database bởi vì file &lt;strong&gt;socket&lt;/strong&gt; chưa chính xác. File &lt;strong&gt;socket&lt;/strong&gt; của bạn có thể nằm ở &lt;strong&gt;/var/mysql/mysql.sock&lt;/strong&gt; hoặc &lt;strong&gt;/tmp/mysql.sock&lt;/strong&gt; (nếu bạn cài lampp hoặc xampp, nó sẽ là &lt;strong&gt;/opt/lampp/var/mysql/mysql.sock&lt;/strong&gt;), tuy nhiên có thể PHP tìm kiếm sai vị trí.
Để giải quyết lỗi này, ta làm như sau:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Xem thông tin phpinfo(): nếu bạn cài lampp hoặc xampp thì có thể xem thông tin phpinfo() bằng cách nhập vào trình duyệt địa chỉ: &lt;a href=&quot;http://localhost/xampp/phpinfo.php&quot;&gt;http://localhost/xampp/phpinfo.php&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Tìm kiếm &lt;strong&gt;mysql.default_socket&lt;/strong&gt; hoặc &lt;strong&gt;pdo_mysql.default_socket&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Mở tập tin &lt;strong&gt;my.ini&lt;/strong&gt; (nếu sử dụng xampp) hoặc &lt;strong&gt;my.cnf&lt;/strong&gt; (nếu sử dụng lampp) và tìm kiếm giá trị của socket, ví dụ 	&lt;strong&gt;socket = /opt/lampp/var/mysql/mysql.sock&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Mở tập tin &lt;strong&gt;php.ini&lt;/strong&gt; (bạn có thể xem địa chỉ chứa file php.ini trên trang thông tin phpinfo hoặc sử dụng lệnh &lt;em&gt;locate php.ini&lt;/em&gt;) và thay thế tất cả các địa chỉ không chính xác bằng địa chỉ chính xác từ MySQL.&lt;/li&gt;
  &lt;li&gt;Restart Apache.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Nguồn tham khảo: &lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/12584762/mysql-connect-no-such-file-or-directory&quot;&gt;http://stackoverflow.com/questions/12584762/mysql-connect-no-such-file-or-directory&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/4219970/warning-mysql-connect-2002-no-such-file-or-directory-trying-to-connect-vi&quot;&gt;http://stackoverflow.com/questions/4219970/warning-mysql-connect-2002-no-such-file-or-directory-trying-to-connect-vi&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

  &lt;p&gt;&lt;a href=&quot;/codeigniter/kiem-tra-ket-noi-database-voi-codeigniter&quot;&gt;Kiểm tra kết nối database với CodeIgniter&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on September 23, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Tạo view calendar trong Drupal 7]]></title>
  <link>/drupal-7/tao-view-calendar-trong-drupal7</link>
  <id>/drupal-7/tao-view-calendar-trong-drupal7</id>
  <published>2014-04-14T00:00:00+07:00</published>
  <updated>2014-04-14T00:00:00+07:00</updated>
  <author>
    <name>Ta Ly</name>
    <uri></uri>
    <email>taly2808@gmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Trong dự án đang thực hiện, tôi cần hiển thị lịch học của các khóa học dưới dạng lịch (calendar) để mọi người có cái nhìn trực quan hơn. Trang tôi muốn hiển thị là trang &lt;a href=&quot;http://buocnho.com/dao-tao&quot; target=&quot;_blank&quot;&gt;Đào tạo&lt;/a&gt;. Các khóa học có kiểu nội dung là &lt;strong&gt;Course&lt;/strong&gt; và có trường &lt;strong&gt;Dự kiến khai giảng&lt;/strong&gt; (&lt;code&gt;field_course_start_date&lt;/code&gt;) là kiểu ngày tháng (date). Đã có nhiều plugin jquery hỗ trợ việc hiển thị Calendar, nhưng làm thế nào để tôi có thể sử dụng chúng trong Drupal 7?&lt;/p&gt;

&lt;p&gt;Để giải quyết vấn đề này, tôi sử dụng &lt;a href=&quot;http://drupal.org/project/views&quot; target=&quot;_blank&quot;&gt;Views&lt;/a&gt; dựa trên module &lt;a href=&quot;http://drupal.org/project/calendar&quot; target=&quot;_blank&quot;&gt;Calendar&lt;/a&gt;) của drupal để tạo ra một trang với những truy vấn phù hợp với mục đích hiển thị của tôi.&lt;/p&gt;

&lt;h2 id=&quot;thc-hin&quot;&gt;Thực hiện&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Bạn cần cài đặt các modules sau: &lt;a href=&quot;https://drupal.org/project/ctools&quot; target=&quot;_blank&quot;&gt;CTools&lt;/a&gt;, &lt;a href=&quot;https://drupal.org/project/views&quot; target=&quot;_blank&quot;&gt;Views&lt;/a&gt;, &lt;a href=&quot;https://drupal.org/project/date&quot; target=&quot;_blank&quot;&gt;Date&lt;/a&gt;, &lt;a href=&quot;https://drupal.org/project/calendar&quot; target=&quot;_blank&quot;&gt;Calendar&lt;/a&gt;.
 &lt;em&gt;Lưu ý&lt;/em&gt;: khi cài đặt các module trên, bạn cần enable cả Date API và Date Views.&lt;/li&gt;
  &lt;li&gt;Tạo view từ template: bạn truy cập vào Structure &amp;gt; Views &amp;gt; Add view from template.
 &lt;img src=&quot;/assets/img/add-view-from-template.png&quot; alt=&quot;Tạo view từ template&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Khi đó, bạn sẽ nhìn thấy nhiều loại Views mặc định mà bạn có thể thêm vào.
    &lt;ul&gt;
      &lt;li&gt;Click vào &lt;strong&gt;add&lt;/strong&gt; ở phía cuối hàng “&lt;em&gt;A calendar view of the ‘field_course_start_date’ field in the ‘node’ base table.&lt;/em&gt;”.
  &lt;img src=&quot;/assets/img/add-field-course-start-date.png&quot; alt=&quot;Tạo view từ template&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;Nhập vào tên View mà bạn muốn hiển thị, sau đó click &lt;strong&gt;Continue&lt;/strong&gt;.
 &lt;img src=&quot;/assets/img/enter-view-name-calendar.png&quot; alt=&quot;Nhập vào tên View Calendar&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;Bạn kéo xuống cuối trang để xem preview của view, bạn sẽ thấy view calendar với nội dung được hiển thị phía trong.
 &lt;img src=&quot;/assets/img/preview-calendar-view.png&quot; alt=&quot;Preview&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;Kéo trở lên,  chúng ta cần thay đổi phần cấu hình &lt;strong&gt;FILTER CRITERIA&lt;/strong&gt; để view của chúng ta chỉ hiển thị nội dung có content type là &lt;strong&gt;Course&lt;/strong&gt;:
        &lt;ul&gt;
          &lt;li&gt;Click vào nút Add.
  &lt;img src=&quot;/assets/img/add-filter-criteria.png&quot; alt=&quot;Add Filter Criteria&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;Chọn &lt;em&gt;Content: Type&lt;/em&gt;.&lt;/li&gt;
          &lt;li&gt;Click Apply (all displays).&lt;/li&gt;
          &lt;li&gt;Chọn “Is one of” và sau tích chọn “&lt;em&gt;Course&lt;/em&gt;”.
  &lt;img src=&quot;/assets/img/config-filter-criteria-type.png&quot; alt=&quot;Cấu hình cho Filter Criteria&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;Click Apply (all displays).
 Khi đó, &lt;em&gt;Filter Criteria&lt;/em&gt; sẽ như hình.
 &lt;img src=&quot;/assets/img/filter-criteria-after.png&quot; alt=&quot;Filter Criteria&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Tiếp đến, chúng ta chỉnh sửa &lt;strong&gt;Contextual Filters&lt;/strong&gt; trong phần &lt;strong&gt;Advanced&lt;/strong&gt; ở cột bên phải.
 &lt;img src=&quot;/assets/img/contextual-filters.png&quot; alt=&quot;Cấu hình Contextual Filters&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;Click &lt;em&gt;Date: Date (node) (Content: Dự kiến khai giảng (field_course_start_date))&lt;/em&gt;.&lt;/li&gt;
      &lt;li&gt;Ở phía trên của cửa sổ, bạn cần đảm bảo rằng mình đang cấu hình cho lựa chọn tất cả các hiển thị (All displays).&lt;/li&gt;
      &lt;li&gt;Check chọn &lt;em&gt;Content: Dự kiến khai giảng (field_course_start_date)&lt;/em&gt; và click &lt;em&gt;Apply (all displays)&lt;/em&gt;.
 &lt;img src=&quot;/assets/img/config-contextual-filters.png&quot; alt=&quot;Contextual Filters&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;Kiểm tra lại Preview của View.&lt;/li&gt;
      &lt;li&gt;Lưu lại  cấu hình của View.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Cấu hình đường dẫn của View để hiển thị ngoài trang web.
    &lt;ul&gt;
      &lt;li&gt;Đường dẫn mặc định của View được thể hiện trong phần cấu hình &lt;em&gt;Path&lt;/em&gt; của cột &lt;strong&gt;PAGE SETTINGS&lt;/strong&gt;. Bạn click vào đường dẫn đó để thay đổi tên đường dẫn mà bạn muốn. Sau đó lưu các thiết lập đó lại.
 &lt;img src=&quot;/assets/img/page-calendar-setting.png&quot; alt=&quot;Thiết lập đường dẫn cho trang hiển thị view calendar&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;Nếu bạn thay đổi đường dẫn thì cũng nhớ thay đổi cho các hiển thị theo Week, Day, Year nữa.	&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Kiểm tra hiển thị ngoài trang web
 Giả sử, tôi thay đổi đường dẫn từ &lt;strong&gt;calendar-node-field-course-start-date&lt;/strong&gt; thành &lt;strong&gt;dao-tao&lt;/strong&gt;. Khi đó, trên thanh địa chỉ trình duyệt, tôi nhập vào như sau: &lt;em&gt;http://localhost/drupal/dao-tao&lt;/em&gt; và kiểm tra kết quả thôi.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;xem-thm&quot;&gt;Xem thêm&lt;/h2&gt;

&lt;p&gt;Nếu bạn gặp lỗi &lt;strong&gt;Warning: Illegal string offset ‘data’ in template_preprocess_calendar_month() (line 38 of modules/calendar/theme/theme.inc)&lt;/strong&gt; khi hiển thị nội dung của view calendar, bạn làm như sau:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mở file &lt;strong&gt;sites/all/modules/calendar/theme/theme.inc&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Thêm đoạn code sau ngay dưới dòng 37: &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-css&quot; data-lang=&quot;css&quot;&gt;&lt;span class=&quot;nt&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(!&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;($&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;data&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Lưu file, xóa cache và mở lại trang.&lt;/li&gt;
&lt;/ul&gt;


  &lt;p&gt;&lt;a href=&quot;/drupal-7/tao-view-calendar-trong-drupal7&quot;&gt;Tạo view calendar trong Drupal 7&lt;/a&gt; was originally published by Ta Ly at &lt;a href=&quot;&quot;&gt;THAPSANG.NET&lt;/a&gt; on April 14, 2014.&lt;/p&gt;</content>
</entry>

</feed>
